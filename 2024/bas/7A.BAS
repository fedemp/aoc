10 OPEN "i", #1, "input.txt"
20 TOTAL#= 0 : LIMIT = 12: DIM NUMS#(LIMIT)
30 IF EOF(1) THEN GOTO 180
40 LINE INPUT #1, LN$
50 PREVSP = 1: I = 0: ERASE NUMS# : DIM NUMS#(LIMIT)
60 COLON = INSTR(LN$, ":")
70 RES# = VAL(LEFT$(LN$, COLON)) : NUMS$ = RIGHT$(LN$, LEN(LN$) - COLON - 1)
80 SP = INSTR(PREVSP+1, NUMS$, " ")
90 IF SP<>0 THEN NUMS#(I)=VAL(MID$(NUMS$,PREVSP,SP-PREVSP))
100 IF SP<>0 THEN PREVSP=SP: I=I+1: GOTO 80
110 IF SP=0 THEN NUMS#(I) = VAL(RIGHT$(NUMS$,LEN(NUMS$)-PREVSP)) ELSE GOTO 80
115 PRINT LN$
120 FOR T=0 TO (2^(I))-1 : ITOT# = NUMS#(0) : FOR X=0 TO I-1
130 NUMB = NUMS#(X+1)
140 IF T AND 2^X THEN ITOT#=ITOT#*NUMB ELSE ITOT#=ITOT#+NUMB
150 NEXT X
160 IF ITOT# = RES# THEN TOTAL#=TOTAL# + ITOT#: GOTO 30
170 NEXT T: GOTO 30
180 PRINT "TOTAL" TOTAL#
190 END
